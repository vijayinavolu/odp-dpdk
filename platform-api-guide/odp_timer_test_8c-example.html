<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference Manual for linux-dpdk: odp_timer_test.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="odpdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ODP-Logo-HQ.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference Manual for linux-dpdk
   &#160;<span id="projectnumber">1.37.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('odp_timer_test_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">odp_timer_test.c</div>  </div>
</div><!--header-->
<div class="contents">
<p>Timer example application</p>
<div class="fragment"><div class="line"><span class="comment">/* Copyright (c) 2013-2018, Linaro Limited</span></div>
<div class="line"><span class="comment"> * All rights reserved.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * SPDX-License-Identifier:     BSD-3-Clause</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ODP main header */</span></div>
<div class="line"><span class="preprocessor">#include &lt;odp_api.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ODP helper for Linux apps */</span></div>
<div class="line"><span class="preprocessor">#include &lt;odp/helper/odph_api.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* GNU lib C */</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Max worker threads */</span></div>
<div class="line"><span class="preprocessor">#define MAX_WORKERS           (ODP_THREAD_COUNT_MAX - 1)</span></div>
<div class="line"><span class="preprocessor">#define NUM_TMOS              10000         </span></div>
<div class="line"><span class="preprocessor">#define WAIT_NUM          10    </span></div>
<div class="line"><span class="preprocessor">#define MAX(a, b) (((a) &gt; (b)) ? (a) : (b))</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu_count; </div>
<div class="line">    <span class="keywordtype">int</span> resolution_us; </div>
<div class="line">    <span class="keywordtype">int</span> min_us;        </div>
<div class="line">    <span class="keywordtype">int</span> max_us;        </div>
<div class="line">    <span class="keywordtype">int</span> period_us;     </div>
<div class="line">    <span class="keywordtype">int</span> tmo_count;     </div>
<div class="line">} test_args_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>test_timer {</div>
<div class="line">    <a name="_a0"></a><a class="code" href="struct__odp__abi__timer__t.html">odp_timer_t</a> tim;</div>
<div class="line">    <a name="_a1"></a><a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> ev;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    test_args_t args;       </div>
<div class="line">    <a name="_a2"></a><a class="code" href="structodp__barrier__s.html">odp_barrier_t</a> test_barrier; </div>
<div class="line">    <a name="_a3"></a><a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> pool;        </div>
<div class="line">    <a name="_a4"></a><a class="code" href="struct__odp__abi__timer__pool__t.html">odp_timer_pool_t</a> tp;        </div>
<div class="line">    <a name="_a5"></a><a class="code" href="structodp__atomic__u32__s.html">odp_atomic_u32_t</a> remain;    </div>
<div class="line">    <span class="keyword">struct </span>test_timer tt[256];  </div>
<div class="line">    uint32_t num_workers;       </div>
<div class="line">} test_globals_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *timerset2str(<a class="code" href="group__odp__timer.html#gabc44cd432f4af853655b9ad292abd8b2">odp_timer_set_t</a> val)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">switch</span> (val) {</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a6"></a><a class="code" href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2a6cf6bb923bdf13cede58a481443be93c">ODP_TIMER_SUCCESS</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;success&quot;</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a7"></a><a class="code" href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2a960770553750528ffd90285f9729c99f">ODP_TIMER_TOO_NEAR</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;too near&quot;</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a8"></a><a class="code" href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2a9826e74a06aae31168ea7aad4c944b8d">ODP_TIMER_TOO_FAR</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;too far&quot;</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a name="a9"></a><a class="code" href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2afcabd0f01c3d19d8c9063ccd861edd6e">ODP_TIMER_FAIL</a>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;failure&quot;</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;?&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> remove_prescheduled_events(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> ev;</div>
<div class="line">    <a name="_a10"></a><a class="code" href="struct__odp__abi__queue__t.html">odp_queue_t</a> queue;</div>
<div class="line">    <a name="a11"></a><a class="code" href="group__odp__scheduler.html#ga9868ccb25b6631ef29cc921ee2e522b0">odp_schedule_pause</a>();</div>
<div class="line">    <span class="keywordflow">while</span> ((ev = <a name="a12"></a><a class="code" href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a>(&amp;queue, <a name="a13"></a><a class="code" href="group__odp__scheduler.html#ga9116776b8262a74af7dac7ef46fc7ace">ODP_SCHED_NO_WAIT</a>)) !=</div>
<div class="line">            <a name="a14"></a><a class="code" href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a>) {</div>
<div class="line">        <a name="a15"></a><a class="code" href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a>(ev);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> test_abs_timeouts(<span class="keywordtype">int</span> thr, test_globals_t *gbls)</div>
<div class="line">{</div>
<div class="line">    uint64_t period;</div>
<div class="line">    uint64_t period_ns;</div>
<div class="line">    <a class="code" href="struct__odp__abi__queue__t.html">odp_queue_t</a> queue;</div>
<div class="line">    uint64_t tick;</div>
<div class="line">    <span class="keyword">struct </span>test_timer *ttp;</div>
<div class="line">    <a name="_a16"></a><a class="code" href="struct__odp__abi__timeout__t.html">odp_timeout_t</a> tmo;</div>
<div class="line">    uint32_t num_workers = gbls-&gt;num_workers;</div>
<div class="line"> </div>
<div class="line">    ODPH_DBG(<span class="stringliteral">&quot;  [%i] test_timeouts\n&quot;</span>, thr);</div>
<div class="line"> </div>
<div class="line">    queue = <a name="a17"></a><a class="code" href="group__odp__queue.html#ga22cd9716719cd2b35c88267eb1f16d49">odp_queue_lookup</a>(<span class="stringliteral">&quot;timer_queue&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    period_ns = gbls-&gt;args.period_us * <a name="a18"></a><a class="code" href="group__odp__time.html#gacc306c00304a0d479e89c2cd16d39938">ODP_TIME_USEC_IN_NS</a>;</div>
<div class="line">    period    = <a name="a19"></a><a class="code" href="group__odp__timer.html#ga7fb23a28aa1db3c919aa49c90b2316fb">odp_timer_ns_to_tick</a>(gbls-&gt;tp, period_ns);</div>
<div class="line"> </div>
<div class="line">    ODPH_DBG(<span class="stringliteral">&quot;  [%i] period %&quot;</span> PRIu64 <span class="stringliteral">&quot; ticks,  %&quot;</span> PRIu64 <span class="stringliteral">&quot; ns\n&quot;</span>, thr,</div>
<div class="line">         period, period_ns);</div>
<div class="line"> </div>
<div class="line">    ODPH_DBG(<span class="stringliteral">&quot;  [%i] current tick %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, thr,</div>
<div class="line">         <a name="a20"></a><a class="code" href="group__odp__timer.html#ga680573fd461db24d4e66540b37deea43">odp_timer_current_tick</a>(gbls-&gt;tp));</div>
<div class="line"> </div>
<div class="line">    ttp = &amp;gbls-&gt;tt[thr];</div>
<div class="line">    ttp-&gt;tim = <a name="a21"></a><a class="code" href="group__odp__timer.html#gad3e1c9b326fe7ec85b635d6f02998a86">odp_timer_alloc</a>(gbls-&gt;tp, queue, ttp);</div>
<div class="line">    <span class="keywordflow">if</span> (ttp-&gt;tim == <a name="a22"></a><a class="code" href="group__odp__timer.html#gaea51c621bb26b7a8bdab46d8a08f247a">ODP_TIMER_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Failed to allocate timer\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    tmo = <a name="a23"></a><a class="code" href="group__odp__timer.html#ga1d1006d0da428f8afd5527b673f777a9">odp_timeout_alloc</a>(gbls-&gt;pool);</div>
<div class="line">    <span class="keywordflow">if</span> (tmo == <a name="a24"></a><a class="code" href="group__odp__timer.html#gac72c1c2f923ee0d53b0a7d4109da34a5">ODP_TIMEOUT_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Failed to allocate timeout\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    ttp-&gt;ev = <a name="a25"></a><a class="code" href="group__odp__timer.html#gac65e47ba9fdfd9ea73cb799e8e957d21">odp_timeout_to_event</a>(tmo);</div>
<div class="line">    tick = <a class="code" href="group__odp__timer.html#ga680573fd461db24d4e66540b37deea43">odp_timer_current_tick</a>(gbls-&gt;tp);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        <span class="keywordtype">int</span> wait = 0;</div>
<div class="line">        <a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> ev;</div>
<div class="line">        <a class="code" href="group__odp__timer.html#gabc44cd432f4af853655b9ad292abd8b2">odp_timer_set_t</a> rc;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (ttp) {</div>
<div class="line">            tick += period;</div>
<div class="line">            rc = <a name="a26"></a><a class="code" href="group__odp__timer.html#gad2a16811f3aa03c58953f7c7b6ff1b62">odp_timer_set_abs</a>(ttp-&gt;tim, tick, &amp;ttp-&gt;ev);</div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a27"></a><a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(rc != <a class="code" href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2a6cf6bb923bdf13cede58a481443be93c">ODP_TIMER_SUCCESS</a>)) {</div>
<div class="line">                <span class="comment">/* Too early or too late timeout requested */</span></div>
<div class="line">                ODPH_ABORT(<span class="stringliteral">&quot;odp_timer_set_abs() failed: %s\n&quot;</span>,</div>
<div class="line">                       timerset2str(rc));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Get the next expired timeout.</span></div>
<div class="line"><span class="comment">         * We invoke the scheduler in a loop with a timeout because</span></div>
<div class="line"><span class="comment">         * we are not guaranteed to receive any more timeouts. The</span></div>
<div class="line"><span class="comment">         * scheduler isn&#39;t guaranteeing fairness when scheduling</span></div>
<div class="line"><span class="comment">         * buffers to threads.</span></div>
<div class="line"><span class="comment">         * Use 1.5 second timeout for scheduler */</span></div>
<div class="line">        uint64_t sched_tmo =</div>
<div class="line">            <a name="a28"></a><a class="code" href="group__odp__scheduler.html#gab0a0d2673cc7371d5c5d782d13a485b8">odp_schedule_wait_time</a>(1500000000ULL);</div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            ev = <a class="code" href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a>(&amp;queue, sched_tmo);</div>
<div class="line">            <span class="comment">/* Check if odp_schedule() timed out, possibly there</span></div>
<div class="line"><span class="comment">             * are no remaining timeouts to receive */</span></div>
<div class="line">            <span class="keywordflow">if</span> (++wait &gt; WAIT_NUM &amp;&amp;</div>
<div class="line">                <a name="a29"></a><a class="code" href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a>(&amp;gbls-&gt;remain) &lt; num_workers)</div>
<div class="line">                ODPH_ABORT(<span class="stringliteral">&quot;At least one TMO was lost\n&quot;</span>);</div>
<div class="line">        } <span class="keywordflow">while</span> (ev == <a class="code" href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a> &amp;&amp;</div>
<div class="line">             (<span class="keywordtype">int</span>)<a class="code" href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a>(&amp;gbls-&gt;remain) &gt; 0);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (ev == <a class="code" href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a>)</div>
<div class="line">            <span class="keywordflow">break</span>; <span class="comment">/* No more timeouts */</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a30"></a><a class="code" href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a>(ev) != ODP_EVENT_TIMEOUT) {</div>
<div class="line">            <span class="comment">/* Not a default timeout event */</span></div>
<div class="line">            ODPH_ABORT(<span class="stringliteral">&quot;Unexpected event type (%u) received\n&quot;</span>,</div>
<div class="line">                   <a class="code" href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a>(ev));</div>
<div class="line">        }</div>
<div class="line">        <a class="code" href="struct__odp__abi__timeout__t.html">odp_timeout_t</a> tmo = <a name="a31"></a><a class="code" href="group__odp__timer.html#ga47e481181fbc79039f51f9c306257667">odp_timeout_from_event</a>(ev);</div>
<div class="line">        tick = <a name="a32"></a><a class="code" href="group__odp__timer.html#ga233f553eb0ba584d3be09431367fad27">odp_timeout_tick</a>(tmo);</div>
<div class="line">        ttp = <a name="a33"></a><a class="code" href="group__odp__timer.html#gaff83af8aaeca807c37862650a3493005">odp_timeout_user_ptr</a>(tmo);</div>
<div class="line">        ttp-&gt;ev = ev;</div>
<div class="line">        <span class="keywordflow">if</span> (!<a name="a34"></a><a class="code" href="group__odp__timer.html#gac14be427018b98cbbd1aa3e76fd57e62">odp_timeout_fresh</a>(tmo)) {</div>
<div class="line">            <span class="comment">/* Not the expected expiration tick, timer has</span></div>
<div class="line"><span class="comment">             * been reset or cancelled or freed */</span></div>
<div class="line">            ODPH_ABORT(<span class="stringliteral">&quot;Unexpected timeout received (timer &quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;%&quot;</span> PRIu64 <span class="stringliteral">&quot;, tick %&quot;</span> PRIu64 <span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line">                   <a name="a35"></a><a class="code" href="group__odp__timer.html#gaebafe4258e44d3b7ba5d110669f0d65a">odp_timer_to_u64</a>(ttp-&gt;tim), tick);</div>
<div class="line">        }</div>
<div class="line">        ODPH_DBG(<span class="stringliteral">&quot;  [%i] timeout, tick %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, thr, tick);</div>
<div class="line"> </div>
<div class="line">        uint32_t rx_num = <a name="a36"></a><a class="code" href="group__odp__atomic.html#gac84cb77c8a0d6ab0a073d0b9ebc99e9f">odp_atomic_fetch_dec_u32</a>(&amp;gbls-&gt;remain);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!rx_num)</div>
<div class="line">            ODPH_ABORT(<span class="stringliteral">&quot;Unexpected timeout received (timer &quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;%&quot;</span> PRIu64 <span class="stringliteral">&quot;, tick %&quot;</span> PRIu64 <span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line">                   <a class="code" href="group__odp__timer.html#gaebafe4258e44d3b7ba5d110669f0d65a">odp_timer_to_u64</a>(ttp-&gt;tim), tick);</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rx_num &gt; num_workers)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a>(ttp-&gt;ev);</div>
<div class="line">        <a name="a37"></a><a class="code" href="group__odp__timer.html#ga553de2ffd40d08de7bb212d2fc5388e7">odp_timer_free</a>(ttp-&gt;tim);</div>
<div class="line">        ttp = NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Remove any prescheduled events */</span></div>
<div class="line">    remove_prescheduled_events();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> run_thread(<span class="keywordtype">void</span> *ptr)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> thr;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> msg_pool;</div>
<div class="line">    test_globals_t *gbls;</div>
<div class="line"> </div>
<div class="line">    gbls = ptr;</div>
<div class="line">    thr  = <a name="a38"></a><a class="code" href="group__odp__thread.html#gad6562e7320d48463715bbf15748ae360">odp_thread_id</a>();</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Thread %i starts on cpu %i\n&quot;</span>, thr, <a name="a39"></a><a class="code" href="group__odp__cpu.html#ga29ed8c7764aa102f385e150dab1d27f3">odp_cpu_id</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Find the pool</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    msg_pool = <a name="a40"></a><a class="code" href="group__odp__pool.html#ga80cbcff29933fbc847026c9c888aefe7">odp_pool_lookup</a>(<span class="stringliteral">&quot;msg_pool&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (msg_pool == <a name="a41"></a><a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;  [%i] msg_pool not found\n&quot;</span>, thr);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="a42"></a><a class="code" href="group__odp__barrier.html#ga97c8f84490e816330f96155acf0b4b77">odp_barrier_wait</a>(&amp;gbls-&gt;test_barrier);</div>
<div class="line"> </div>
<div class="line">    test_abs_timeouts(thr, gbls);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Thread %i exits\n&quot;</span>, thr);</div>
<div class="line">    fflush(NULL);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_usage(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n\nUsage: ./odp_example [options]\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Options:\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  -c, --count &lt;number&gt;    CPU count, 0=all available, default=1\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  -r, --resolution &lt;us&gt;   timeout resolution in usec\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  -m, --min &lt;us&gt;          minimum timeout in usec\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  -x, --max &lt;us&gt;          maximum timeout in usec\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  -p, --period &lt;us&gt;       timeout period in usec\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  -t, --timeouts &lt;count&gt;  timeout repeat count\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  -h, --help              this help\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> parse_args(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[], test_args_t *args)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> opt;</div>
<div class="line">    <span class="keywordtype">int</span> long_index;</div>
<div class="line">    <a name="_a43"></a><a class="code" href="structodp__timer__capability__t.html">odp_timer_capability_t</a> timer_capa;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>option longopts[] = {</div>
<div class="line">        {<span class="stringliteral">&quot;count&quot;</span>,      required_argument, NULL, <span class="charliteral">&#39;c&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;resolution&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;r&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;min&quot;</span>,        required_argument, NULL, <span class="charliteral">&#39;m&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;max&quot;</span>,        required_argument, NULL, <span class="charliteral">&#39;x&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;period&quot;</span>,     required_argument, NULL, <span class="charliteral">&#39;p&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;timeouts&quot;</span>,   required_argument, NULL, <span class="charliteral">&#39;t&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;help&quot;</span>,       no_argument,       NULL, <span class="charliteral">&#39;h&#39;</span>},</div>
<div class="line">        {NULL, 0, NULL, 0}</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *shortopts = <span class="stringliteral">&quot;+c:r:m:x:p:t:h&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* defaults */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a44"></a><a class="code" href="group__odp__timer.html#ga7064c7d4e9f014ffd322222178d208b3">odp_timer_capability</a>(<a name="a45"></a><a class="code" href="group__odp__timer.html#gadb0936032a6640db772dd99cf4eb9159">ODP_CLOCK_DEFAULT</a>, &amp;timer_capa))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    args-&gt;cpu_count     = 1;</div>
<div class="line">    args-&gt;resolution_us = MAX(10000,</div>
<div class="line">                  timer_capa.<a name="a46"></a><a class="code" href="structodp__timer__capability__t.html#af0616eb9ff6667d142bb0e6febef7135">highest_res_ns</a> /</div>
<div class="line">                    <a class="code" href="group__odp__time.html#gacc306c00304a0d479e89c2cd16d39938">ODP_TIME_USEC_IN_NS</a>);</div>
<div class="line">    args-&gt;min_us        = 0;</div>
<div class="line">    args-&gt;max_us        = 10000000;</div>
<div class="line">    args-&gt;period_us     = 1000000;</div>
<div class="line">    args-&gt;tmo_count     = 30;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        opt = getopt_long(argc, argv, shortopts, longopts, &amp;long_index);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (opt == -1)</div>
<div class="line">            <span class="keywordflow">break</span>;  <span class="comment">/* No more options */</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line">            args-&gt;cpu_count = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div>
<div class="line">            args-&gt;resolution_us = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line">            args-&gt;min_us = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div>
<div class="line">            args-&gt;max_us = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line">            args-&gt;period_us = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line">            args-&gt;tmo_count = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">            print_usage();</div>
<div class="line">            exit(EXIT_SUCCESS);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (args-&gt;period_us &lt; args-&gt;resolution_us)</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\tWarn: timeout is set less then resolution\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    odph_helper_options_t helper_options;</div>
<div class="line">    odph_thread_t thread_tbl[MAX_WORKERS];</div>
<div class="line">    odph_thread_common_param_t thr_common;</div>
<div class="line">    odph_thread_param_t thr_param;</div>
<div class="line">    <span class="keywordtype">int</span> num_workers;</div>
<div class="line">    <a class="code" href="struct__odp__abi__queue__t.html">odp_queue_t</a> queue;</div>
<div class="line">    uint64_t tick, ns;</div>
<div class="line">    <a name="_a47"></a><a class="code" href="structodp__queue__param__t.html">odp_queue_param_t</a> param;</div>
<div class="line">    <a name="_a48"></a><a class="code" href="structodp__pool__param__t.html">odp_pool_param_t</a> params;</div>
<div class="line">    <a name="_a49"></a><a class="code" href="structodp__timer__pool__param__t.html">odp_timer_pool_param_t</a> tparams;</div>
<div class="line">    <a name="_a50"></a><a class="code" href="structodp__timer__pool__info__t.html">odp_timer_pool_info_t</a> tpinfo;</div>
<div class="line">    <a name="_a51"></a><a class="code" href="structodp__cpumask__t.html">odp_cpumask_t</a> cpumask;</div>
<div class="line">    <span class="keywordtype">char</span> cpumaskstr[<a name="a52"></a><a class="code" href="group__odp__cpumask.html#gad1ca7686341a94f62ca32b87c269cf17">ODP_CPUMASK_STR_SIZE</a>];</div>
<div class="line">    <a class="code" href="group__odp__initialization.html#ga8d362bd3c7c87ab5892ca63b15c375c0">odp_instance_t</a> instance;</div>
<div class="line">    <a name="_a53"></a><a class="code" href="structodp__init__t.html">odp_init_t</a> init_param;</div>
<div class="line">    <a name="_a54"></a><a class="code" href="struct__odp__abi__shm__t.html">odp_shm_t</a> shm = <a name="a55"></a><a class="code" href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a>;</div>
<div class="line">    test_globals_t *gbls = NULL;</div>
<div class="line">    <span class="keywordtype">int</span> err = 0;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nODP timer example starts\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Let helper collect its own arguments (e.g. --odph_proc) */</span></div>
<div class="line">    argc = odph_parse_options(argc, argv);</div>
<div class="line">    <span class="keywordflow">if</span> (odph_options(&amp;helper_options)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error: reading ODP helper options failed.\n&quot;</span>);</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="a56"></a><a class="code" href="group__odp__initialization.html#ga145c4fc4417c8f58efd0852b34e25ba9">odp_init_param_init</a>(&amp;init_param);</div>
<div class="line">    init_param.<a name="a57"></a><a class="code" href="structodp__init__t.html#a7d368c740146170ebeb1651ce049919e">mem_model</a> = helper_options.mem_model;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a58"></a><a class="code" href="group__odp__initialization.html#ga68d81088e65ef66180fb51076905e34d">odp_init_global</a>(&amp;instance, &amp;init_param, NULL)) {</div>
<div class="line">        err = 1;</div>
<div class="line">        printf(<span class="stringliteral">&quot;ODP global init failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err_global;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Init this thread. */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a59"></a><a class="code" href="group__odp__initialization.html#ga81c9f27f305d41ac2eb669e77a378071">odp_init_local</a>(instance, <a name="a60"></a><a class="code" href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a">ODP_THREAD_CONTROL</a>)) {</div>
<div class="line">        err = 1;</div>
<div class="line">        printf(<span class="stringliteral">&quot;ODP local init failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err_local;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">    <a name="a61"></a><a class="code" href="group__odp__system.html#gab0a1cd5e503d5ec067e8d17d228b937d">odp_sys_info_print</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Reserve memory for test_globals_t from shared mem */</span></div>
<div class="line">    shm = <a name="a62"></a><a class="code" href="group__odp__shared__memory.html#gacc441b0e100ec1c54e21f1745939a2d8">odp_shm_reserve</a>(<span class="stringliteral">&quot;shm_test_globals&quot;</span>, <span class="keyword">sizeof</span>(test_globals_t),</div>
<div class="line">                  <a name="a63"></a><a class="code" href="group__odp__compiler__optim.html#gaa0d0978b9227cc7fe3d6fd74d6943001">ODP_CACHE_LINE_SIZE</a>, 0);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a> == shm) {</div>
<div class="line">        err = 1;</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error: shared mem reserve failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    gbls = <a name="a64"></a><a class="code" href="group__odp__shared__memory.html#gac94c4232f7cd64039bbaef601ff2c05e">odp_shm_addr</a>(shm);</div>
<div class="line">    <span class="keywordflow">if</span> (NULL == gbls) {</div>
<div class="line">        err = 1;</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error: shared mem alloc failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line">    memset(gbls, 0, <span class="keyword">sizeof</span>(test_globals_t));</div>
<div class="line">    gbls-&gt;pool = <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>;</div>
<div class="line">    gbls-&gt;tp = <a name="a65"></a><a class="code" href="group__odp__timer.html#ga4ad1abeaffbe94d9bbc66a0d8bab76c3">ODP_TIMER_POOL_INVALID</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (parse_args(argc, argv, &amp;gbls-&gt;args)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Parse args failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    memset(thread_tbl, 0, <span class="keyword">sizeof</span>(thread_tbl));</div>
<div class="line"> </div>
<div class="line">    num_workers = MAX_WORKERS;</div>
<div class="line">    <span class="keywordflow">if</span> (gbls-&gt;args.cpu_count &amp;&amp; gbls-&gt;args.cpu_count &lt; MAX_WORKERS)</div>
<div class="line">        num_workers = gbls-&gt;args.cpu_count;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Get default worker cpumask */</span></div>
<div class="line">    num_workers = <a name="a66"></a><a class="code" href="group__odp__cpumask.html#ga4ff2d29f52775b12c7df1995754b524d">odp_cpumask_default_worker</a>(&amp;cpumask, num_workers);</div>
<div class="line">    (void)<a name="a67"></a><a class="code" href="group__odp__cpumask.html#gaac673804169b678e278704de7306a79f">odp_cpumask_to_str</a>(&amp;cpumask, cpumaskstr, <span class="keyword">sizeof</span>(cpumaskstr));</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;num worker threads: %i\n&quot;</span>, num_workers);</div>
<div class="line">    printf(<span class="stringliteral">&quot;first CPU:          %i\n&quot;</span>, <a name="a68"></a><a class="code" href="group__odp__cpumask.html#ga5c9dfaf2a18b336a537f552e122ac41d">odp_cpumask_first</a>(&amp;cpumask));</div>
<div class="line">    printf(<span class="stringliteral">&quot;cpu mask:           %s\n&quot;</span>, cpumaskstr);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;resolution:         %i usec\n&quot;</span>, gbls-&gt;args.resolution_us);</div>
<div class="line">    printf(<span class="stringliteral">&quot;min timeout:        %i usec\n&quot;</span>, gbls-&gt;args.min_us);</div>
<div class="line">    printf(<span class="stringliteral">&quot;max timeout:        %i usec\n&quot;</span>, gbls-&gt;args.max_us);</div>
<div class="line">    printf(<span class="stringliteral">&quot;period:             %i usec\n&quot;</span>, gbls-&gt;args.period_us);</div>
<div class="line">    printf(<span class="stringliteral">&quot;timeouts:           %i\n&quot;</span>, gbls-&gt;args.tmo_count);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure scheduler */</span></div>
<div class="line">    <a name="a69"></a><a class="code" href="group__odp__scheduler.html#gaa1b51ebd46adeb6aa7805fccb00144df">odp_schedule_config</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create pool for timeouts</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a name="a70"></a><a class="code" href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a>(&amp;params);</div>
<div class="line">    params.<a name="a71"></a><a class="code" href="structodp__pool__param__t.html#a96278a16f74267b997097905a1553059">tmo</a>.<a name="a72"></a><a class="code" href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">num</a>   = NUM_TMOS;</div>
<div class="line">    params.<a name="a73"></a><a class="code" href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">type</a>      = <a name="a74"></a><a class="code" href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082a10dd6445d9d9a88a989de99edf0c9010">ODP_POOL_TIMEOUT</a>;</div>
<div class="line"> </div>
<div class="line">    gbls-&gt;pool = <a name="a75"></a><a class="code" href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a>(<span class="stringliteral">&quot;msg_pool&quot;</span>, &amp;params);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (gbls-&gt;pool == <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>) {</div>
<div class="line">        err = 1;</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pool create failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="a76"></a><a class="code" href="group__odp__timer.html#gaf680f0ddeb5270d8a8947e2445b22dff">odp_timer_pool_param_init</a>(&amp;tparams);</div>
<div class="line">    tparams.<a name="a77"></a><a class="code" href="structodp__timer__pool__param__t.html#a0c9d28e284d142c3fe6ee5f8cc66171e">res_ns</a> = gbls-&gt;args.resolution_us * <a class="code" href="group__odp__time.html#gacc306c00304a0d479e89c2cd16d39938">ODP_TIME_USEC_IN_NS</a>;</div>
<div class="line">    tparams.<a name="a78"></a><a class="code" href="structodp__timer__pool__param__t.html#a8c358d197ea76dc7295025c23159e890">min_tmo</a> = gbls-&gt;args.min_us * <a class="code" href="group__odp__time.html#gacc306c00304a0d479e89c2cd16d39938">ODP_TIME_USEC_IN_NS</a>;</div>
<div class="line">    tparams.<a name="a79"></a><a class="code" href="structodp__timer__pool__param__t.html#af54f6e42c3f0fc4e2514c2d0df3023c2">max_tmo</a> = gbls-&gt;args.max_us * <a class="code" href="group__odp__time.html#gacc306c00304a0d479e89c2cd16d39938">ODP_TIME_USEC_IN_NS</a>;</div>
<div class="line">    tparams.<a name="a80"></a><a class="code" href="structodp__timer__pool__param__t.html#abe013f91043de4d7fa0003bce6701a3f">num_timers</a> = num_workers; <span class="comment">/* One timer per worker */</span></div>
<div class="line">    tparams.<a name="a81"></a><a class="code" href="structodp__timer__pool__param__t.html#a8b9276c132f7b79cf51787167febbfea">priv</a> = 0; <span class="comment">/* Shared */</span></div>
<div class="line">    tparams.<a name="a82"></a><a class="code" href="structodp__timer__pool__param__t.html#af491eee5937cbb0b8e18a85a9712c07c">clk_src</a> = <a class="code" href="group__odp__timer.html#gadb0936032a6640db772dd99cf4eb9159">ODP_CLOCK_DEFAULT</a>;</div>
<div class="line"> </div>
<div class="line">    gbls-&gt;tp = <a name="a83"></a><a class="code" href="group__odp__timer.html#ga5119deda378994a468934aef41993965">odp_timer_pool_create</a>(<span class="stringliteral">&quot;timer_pool&quot;</span>, &amp;tparams);</div>
<div class="line">    <span class="keywordflow">if</span> (gbls-&gt;tp == <a class="code" href="group__odp__timer.html#ga4ad1abeaffbe94d9bbc66a0d8bab76c3">ODP_TIMER_POOL_INVALID</a>) {</div>
<div class="line">        err = 1;</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Timer pool create failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line">    <a name="a84"></a><a class="code" href="group__odp__timer.html#ga1c28fd4fb9830d754aa00563448e82ec">odp_timer_pool_start</a>();</div>
<div class="line"> </div>
<div class="line">    <a name="a85"></a><a class="code" href="group__odp__shared__memory.html#ga0257a416aacd98f9a25dd0685518c553">odp_shm_print_all</a>();</div>
<div class="line">    (void)<a name="a86"></a><a class="code" href="group__odp__timer.html#gacf39525bc4f8dd2d61ad4e963c931259">odp_timer_pool_info</a>(gbls-&gt;tp, &amp;tpinfo);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Timer pool\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;----------\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  name: %s\n&quot;</span>, tpinfo.<a name="a87"></a><a class="code" href="structodp__timer__pool__info__t.html#ae12ce6d1db5ced5bb9bf20d836383028">name</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  resolution: %&quot;</span>PRIu64<span class="stringliteral">&quot; ns\n&quot;</span>, tpinfo.<a name="a88"></a><a class="code" href="structodp__timer__pool__info__t.html#ac09e4f912ae8074a5c89bb854d0cdb47">param</a>.<a class="code" href="structodp__timer__pool__param__t.html#a0c9d28e284d142c3fe6ee5f8cc66171e">res_ns</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  min tmo: %&quot;</span>PRIu64<span class="stringliteral">&quot; ticks\n&quot;</span>, tpinfo.<a class="code" href="structodp__timer__pool__info__t.html#ac09e4f912ae8074a5c89bb854d0cdb47">param</a>.<a class="code" href="structodp__timer__pool__param__t.html#a8c358d197ea76dc7295025c23159e890">min_tmo</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  max tmo: %&quot;</span>PRIu64<span class="stringliteral">&quot; ticks\n&quot;</span>, tpinfo.<a class="code" href="structodp__timer__pool__info__t.html#ac09e4f912ae8074a5c89bb854d0cdb47">param</a>.<a class="code" href="structodp__timer__pool__param__t.html#af54f6e42c3f0fc4e2514c2d0df3023c2">max_tmo</a>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Create a queue for timer test</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a name="a89"></a><a class="code" href="group__odp__queue.html#ga6fc2ea5eb86152210342f7377d1468e4">odp_queue_param_init</a>(&amp;param);</div>
<div class="line">    param.<a name="a90"></a><a class="code" href="structodp__queue__param__t.html#a6a7251138773a3110bdc0e8d5f5b3be9">type</a>        = <a name="a91"></a><a class="code" href="group__odp__queue.html#gga89a3439d3f3be48cac1767cba721eddaa4f49ad2143a9ba8a5914573d2794e962">ODP_QUEUE_TYPE_SCHED</a>;</div>
<div class="line">    param.<a name="a92"></a><a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a93"></a><a class="code" href="structodp__schedule__param__t.html#a3f103771c3a9319c1ec998fa8724b8ac">prio</a>  = <a name="a94"></a><a class="code" href="group__odp__scheduler.html#ga94034a7f591f3f549099aebb098f7e05">odp_schedule_default_prio</a>();</div>
<div class="line">    param.<a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a95"></a><a class="code" href="structodp__schedule__param__t.html#ad4ca09d63edb0cec36567c26688cea14">sync</a>  = <a name="a96"></a><a class="code" href="group__odp__scheduler.html#ga2ba135fc660e1c050aa25ec6744ec584">ODP_SCHED_SYNC_PARALLEL</a>;</div>
<div class="line">    param.<a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a97"></a><a class="code" href="structodp__schedule__param__t.html#a0bc7830a919f31ce295a20c51a7e2648">group</a> = <a name="a98"></a><a class="code" href="group__odp__scheduler.html#gaf463b15ad978dac0bf77c0110232b504">ODP_SCHED_GROUP_ALL</a>;</div>
<div class="line"> </div>
<div class="line">    queue = <a name="a99"></a><a class="code" href="group__odp__queue.html#gab985be8c3947fef3da257e16948bf0f0">odp_queue_create</a>(<span class="stringliteral">&quot;timer_queue&quot;</span>, &amp;param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (queue == <a name="a100"></a><a class="code" href="group__odp__queue.html#ga771259a58e71e065e0d00d2fc431b014">ODP_QUEUE_INVALID</a>) {</div>
<div class="line">        err = 1;</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Timer queue create failed.\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;CPU freq %&quot;</span>PRIu64<span class="stringliteral">&quot; Hz\n&quot;</span>, <a name="a101"></a><a class="code" href="group__odp__cpu.html#gab8e7912ddb39878a6105bc0387196dd9">odp_cpu_hz_max</a>());</div>
<div class="line">    printf(<span class="stringliteral">&quot;Timer ticks vs nanoseconds:\n&quot;</span>);</div>
<div class="line">    ns = 0;</div>
<div class="line">    tick = <a class="code" href="group__odp__timer.html#ga7fb23a28aa1db3c919aa49c90b2316fb">odp_timer_ns_to_tick</a>(gbls-&gt;tp, ns);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ns      -&gt;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ticks\n&quot;</span>, ns, tick);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ticks   -&gt;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ns\n&quot;</span>, tick,</div>
<div class="line">           <a name="a102"></a><a class="code" href="group__odp__timer.html#ga0d06e6c0203ee0892f4e2d823682aa59">odp_timer_tick_to_ns</a>(gbls-&gt;tp, tick));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (ns = 1; ns &lt;= 100 * <a name="a103"></a><a class="code" href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a>; ns *= 10) {</div>
<div class="line">        tick = <a class="code" href="group__odp__timer.html#ga7fb23a28aa1db3c919aa49c90b2316fb">odp_timer_ns_to_tick</a>(gbls-&gt;tp, ns);</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ns      -&gt;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ticks\n&quot;</span>, ns,</div>
<div class="line">               tick);</div>
<div class="line">        printf(<span class="stringliteral">&quot;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ticks   -&gt;  %12&quot;</span> PRIu64 <span class="stringliteral">&quot; ns\n&quot;</span>, tick,</div>
<div class="line">               <a class="code" href="group__odp__timer.html#ga0d06e6c0203ee0892f4e2d823682aa59">odp_timer_tick_to_ns</a>(gbls-&gt;tp, tick));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    gbls-&gt;num_workers = num_workers;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize number of timeouts to receive */</span></div>
<div class="line">    <a name="a104"></a><a class="code" href="group__odp__atomic.html#ga0029015adacaadb06ee94ea67d00eece">odp_atomic_init_u32</a>(&amp;gbls-&gt;remain, gbls-&gt;args.tmo_count * num_workers);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Barrier to sync test case execution */</span></div>
<div class="line">    <a name="a105"></a><a class="code" href="group__odp__barrier.html#ga1416b47755c2af6267074959ac0d4840">odp_barrier_init</a>(&amp;gbls-&gt;test_barrier, num_workers);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Create and launch worker threads */</span></div>
<div class="line">    odph_thread_common_param_init(&amp;thr_common);</div>
<div class="line">    thr_common.instance = instance;</div>
<div class="line">    thr_common.cpumask = &amp;cpumask;</div>
<div class="line">    thr_common.share_param = 1;</div>
<div class="line"> </div>
<div class="line">    odph_thread_param_init(&amp;thr_param);</div>
<div class="line">    thr_param.start = run_thread;</div>
<div class="line">    thr_param.arg = gbls;</div>
<div class="line">    thr_param.thr_type = <a name="a106"></a><a class="code" href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a2182066d714db5f2a4e994ad92f25b2a">ODP_THREAD_WORKER</a>;</div>
<div class="line"> </div>
<div class="line">    odph_thread_create(thread_tbl, &amp;thr_common, &amp;thr_param, num_workers);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait for worker threads to exit */</span></div>
<div class="line">    odph_thread_join(thread_tbl, num_workers);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* free resources */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a107"></a><a class="code" href="group__odp__queue.html#gad1e1d2709808385025dd5f005f7690c4">odp_queue_destroy</a>(queue))</div>
<div class="line">        err = 1;</div>
<div class="line"> </div>
<div class="line">err:</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (gbls != NULL &amp;&amp; gbls-&gt;tp != <a class="code" href="group__odp__timer.html#ga4ad1abeaffbe94d9bbc66a0d8bab76c3">ODP_TIMER_POOL_INVALID</a>)</div>
<div class="line">        <a name="a108"></a><a class="code" href="group__odp__timer.html#gafb56c5aff06be798de32d878266febc0">odp_timer_pool_destroy</a>(gbls-&gt;tp);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (gbls != NULL &amp;&amp; gbls-&gt;pool != <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>)</div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a109"></a><a class="code" href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a>(gbls-&gt;pool))</div>
<div class="line">            err = 1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (shm != <a class="code" href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a>)</div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a110"></a><a class="code" href="group__odp__shared__memory.html#ga0b02991b512acc119206b44c95a86ed6">odp_shm_free</a>(shm))</div>
<div class="line">            err = 1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a111"></a><a class="code" href="group__odp__initialization.html#ga6d15f0e1718da9477948dedb06a2f01a">odp_term_local</a>())</div>
<div class="line">        err = 1;</div>
<div class="line">err_local:</div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a112"></a><a class="code" href="group__odp__initialization.html#ga87e9c66ad92201c9e0a710294eab1569">odp_term_global</a>(instance))</div>
<div class="line">        err = 1;</div>
<div class="line">err_global:</div>
<div class="line">    <span class="keywordflow">if</span> (err) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Err: ODP timer test failed\n\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;ODP timer test complete\n\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__odp__timer_html_gac65e47ba9fdfd9ea73cb799e8e957d21"><div class="ttname"><a href="group__odp__timer.html#gac65e47ba9fdfd9ea73cb799e8e957d21">odp_timeout_to_event</a></div><div class="ttdeci">odp_event_t odp_timeout_to_event(odp_timeout_t tmo)</div><div class="ttdoc">Convert timeout handle to event handle.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga8d362bd3c7c87ab5892ca63b15c375c0"><div class="ttname"><a href="group__odp__initialization.html#ga8d362bd3c7c87ab5892ca63b15c375c0">odp_instance_t</a></div><div class="ttdeci">uint64_t odp_instance_t</div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2init_8h_source.html#l00022">abi-default/init.h:22</a></div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga6d15f0e1718da9477948dedb06a2f01a"><div class="ttname"><a href="group__odp__initialization.html#ga6d15f0e1718da9477948dedb06a2f01a">odp_term_local</a></div><div class="ttdeci">int odp_term_local(void)</div><div class="ttdoc">Thread local ODP termination.</div></div>
<div class="ttc" id="agroup__odp__timer_html_gac72c1c2f923ee0d53b0a7d4109da34a5"><div class="ttname"><a href="group__odp__timer.html#gac72c1c2f923ee0d53b0a7d4109da34a5">ODP_TIMEOUT_INVALID</a></div><div class="ttdeci">#define ODP_TIMEOUT_INVALID</div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_ga0b02991b512acc119206b44c95a86ed6"><div class="ttname"><a href="group__odp__shared__memory.html#ga0b02991b512acc119206b44c95a86ed6">odp_shm_free</a></div><div class="ttdeci">int odp_shm_free(odp_shm_t shm)</div><div class="ttdoc">Free a contiguous block of shared memory.</div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_gac94c4232f7cd64039bbaef601ff2c05e"><div class="ttname"><a href="group__odp__shared__memory.html#gac94c4232f7cd64039bbaef601ff2c05e">odp_shm_addr</a></div><div class="ttdeci">void * odp_shm_addr(odp_shm_t shm)</div><div class="ttdoc">Shared memory block address.</div></div>
<div class="ttc" id="astructodp__timer__pool__param__t_html_af491eee5937cbb0b8e18a85a9712c07c"><div class="ttname"><a href="structodp__timer__pool__param__t.html#af491eee5937cbb0b8e18a85a9712c07c">odp_timer_pool_param_t::clk_src</a></div><div class="ttdeci">odp_timer_clk_src_t clk_src</div><div class="ttdoc">Clock source for timers.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00300">spec/timer_types.h:300</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_ggabc44cd432f4af853655b9ad292abd8b2a960770553750528ffd90285f9729c99f"><div class="ttname"><a href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2a960770553750528ffd90285f9729c99f">ODP_TIMER_TOO_NEAR</a></div><div class="ttdeci">@ ODP_TIMER_TOO_NEAR</div><div class="ttdoc">Timer set operation failed because expiration time is too near to the current time.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00506">spec/timer_types.h:506</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_gaff83af8aaeca807c37862650a3493005"><div class="ttname"><a href="group__odp__timer.html#gaff83af8aaeca807c37862650a3493005">odp_timeout_user_ptr</a></div><div class="ttdeci">void * odp_timeout_user_ptr(odp_timeout_t tmo)</div><div class="ttdoc">Return user pointer for the timeout.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ggac47bb33bcde80614b4b358578eaa3082a10dd6445d9d9a88a989de99edf0c9010"><div class="ttname"><a href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082a10dd6445d9d9a88a989de99edf0c9010">ODP_POOL_TIMEOUT</a></div><div class="ttdeci">@ ODP_POOL_TIMEOUT</div><div class="ttdoc">Timeout pool.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2pool__types_8h_source.html#l00320">spec/pool_types.h:320</a></div></div>
<div class="ttc" id="agroup__odp__atomic_html_gac84cb77c8a0d6ab0a073d0b9ebc99e9f"><div class="ttname"><a href="group__odp__atomic.html#gac84cb77c8a0d6ab0a073d0b9ebc99e9f">odp_atomic_fetch_dec_u32</a></div><div class="ttdeci">uint32_t odp_atomic_fetch_dec_u32(odp_atomic_u32_t *atom)</div><div class="ttdoc">Fetch and decrement atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__timer_html_gaebafe4258e44d3b7ba5d110669f0d65a"><div class="ttname"><a href="group__odp__timer.html#gaebafe4258e44d3b7ba5d110669f0d65a">odp_timer_to_u64</a></div><div class="ttdeci">uint64_t odp_timer_to_u64(odp_timer_t timer)</div><div class="ttdoc">Get printable value for an odp_timer_t.</div></div>
<div class="ttc" id="agroup__odp__event_html_gae1a3732a534ba7a892fca38b824591b0"><div class="ttname"><a href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a></div><div class="ttdeci">#define ODP_EVENT_INVALID</div></div>
<div class="ttc" id="agroup__odp__cpumask_html_ga5c9dfaf2a18b336a537f552e122ac41d"><div class="ttname"><a href="group__odp__cpumask.html#ga5c9dfaf2a18b336a537f552e122ac41d">odp_cpumask_first</a></div><div class="ttdeci">int odp_cpumask_first(const odp_cpumask_t *mask)</div><div class="ttdoc">Find first set CPU in mask.</div></div>
<div class="ttc" id="agroup__odp__cpu_html_gab8e7912ddb39878a6105bc0387196dd9"><div class="ttname"><a href="group__odp__cpu.html#gab8e7912ddb39878a6105bc0387196dd9">odp_cpu_hz_max</a></div><div class="ttdeci">uint64_t odp_cpu_hz_max(void)</div><div class="ttdoc">Maximum CPU frequency in Hz.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga87e9c66ad92201c9e0a710294eab1569"><div class="ttname"><a href="group__odp__initialization.html#ga87e9c66ad92201c9e0a710294eab1569">odp_term_global</a></div><div class="ttdeci">int odp_term_global(odp_instance_t instance)</div><div class="ttdoc">Global ODP termination.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga4ad1abeaffbe94d9bbc66a0d8bab76c3"><div class="ttname"><a href="group__odp__timer.html#ga4ad1abeaffbe94d9bbc66a0d8bab76c3">ODP_TIMER_POOL_INVALID</a></div><div class="ttdeci">#define ODP_TIMER_POOL_INVALID</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gaf463b15ad978dac0bf77c0110232b504"><div class="ttname"><a href="group__odp__scheduler.html#gaf463b15ad978dac0bf77c0110232b504">ODP_SCHED_GROUP_ALL</a></div><div class="ttdeci">#define ODP_SCHED_GROUP_ALL</div></div>
<div class="ttc" id="agroup__odp__queue_html_ga6fc2ea5eb86152210342f7377d1468e4"><div class="ttname"><a href="group__odp__queue.html#ga6fc2ea5eb86152210342f7377d1468e4">odp_queue_param_init</a></div><div class="ttdeci">void odp_queue_param_init(odp_queue_param_t *param)</div><div class="ttdoc">Initialize queue params.</div></div>
<div class="ttc" id="astructodp__atomic__u32__s_html"><div class="ttname"><a href="structodp__atomic__u32__s.html">odp_atomic_u32_s</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2atomic_8h_source.html#l00028">abi-default/atomic.h:28</a></div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_ga0257a416aacd98f9a25dd0685518c553"><div class="ttname"><a href="group__odp__shared__memory.html#ga0257a416aacd98f9a25dd0685518c553">odp_shm_print_all</a></div><div class="ttdeci">void odp_shm_print_all(void)</div><div class="ttdoc">Print all shared memory blocks.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga553de2ffd40d08de7bb212d2fc5388e7"><div class="ttname"><a href="group__odp__timer.html#ga553de2ffd40d08de7bb212d2fc5388e7">odp_timer_free</a></div><div class="ttdeci">odp_event_t odp_timer_free(odp_timer_t timer)</div><div class="ttdoc">Free a timer.</div></div>
<div class="ttc" id="astructodp__timer__pool__param__t_html_af54f6e42c3f0fc4e2514c2d0df3023c2"><div class="ttname"><a href="structodp__timer__pool__param__t.html#af54f6e42c3f0fc4e2514c2d0df3023c2">odp_timer_pool_param_t::max_tmo</a></div><div class="ttdeci">uint64_t max_tmo</div><div class="ttdoc">Maximum relative timeout in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00336">spec/timer_types.h:336</a></div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga145c4fc4417c8f58efd0852b34e25ba9"><div class="ttname"><a href="group__odp__initialization.html#ga145c4fc4417c8f58efd0852b34e25ba9">odp_init_param_init</a></div><div class="ttdeci">void odp_init_param_init(odp_init_t *param)</div><div class="ttdoc">Initialize the odp_init_t to default values for all fields.</div></div>
<div class="ttc" id="astruct__odp__abi__timer__pool__t_html"><div class="ttname"><a href="struct__odp__abi__timer__pool__t.html">_odp_abi_timer_pool_t</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2timer__types_8h_source.html#l00027">abi-default/timer_types.h:27</a></div></div>
<div class="ttc" id="agroup__odp__compiler__optim_html_gaa0d0978b9227cc7fe3d6fd74d6943001"><div class="ttname"><a href="group__odp__compiler__optim.html#gaa0d0978b9227cc7fe3d6fd74d6943001">ODP_CACHE_LINE_SIZE</a></div><div class="ttdeci">#define ODP_CACHE_LINE_SIZE</div></div>
<div class="ttc" id="astructodp__pool__param__t_html_aac72ae142dd9736a287ce63d78b71c87"><div class="ttname"><a href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">odp_pool_param_t::type</a></div><div class="ttdeci">odp_pool_type_t type</div><div class="ttdoc">Pool type.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2pool__types_8h_source.html#l00340">spec/pool_types.h:340</a></div></div>
<div class="ttc" id="agroup__odp__atomic_html_ga1ebc0fa6d690c24bd2bcc38bcb9a2276"><div class="ttname"><a href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a></div><div class="ttdeci">uint32_t odp_atomic_load_u32(odp_atomic_u32_t *atom)</div><div class="ttdoc">Load value of atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga1c28fd4fb9830d754aa00563448e82ec"><div class="ttname"><a href="group__odp__timer.html#ga1c28fd4fb9830d754aa00563448e82ec">odp_timer_pool_start</a></div><div class="ttdeci">void odp_timer_pool_start(void)</div><div class="ttdoc">Start a timer pool.</div></div>
<div class="ttc" id="agroup__odp__queue_html_gga89a3439d3f3be48cac1767cba721eddaa4f49ad2143a9ba8a5914573d2794e962"><div class="ttname"><a href="group__odp__queue.html#gga89a3439d3f3be48cac1767cba721eddaa4f49ad2143a9ba8a5914573d2794e962">ODP_QUEUE_TYPE_SCHED</a></div><div class="ttdeci">@ ODP_QUEUE_TYPE_SCHED</div><div class="ttdoc">Scheduled queue.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2queue__types_8h_source.html#l00057">spec/queue_types.h:57</a></div></div>
<div class="ttc" id="astruct__odp__abi__timeout__t_html"><div class="ttname"><a href="struct__odp__abi__timeout__t.html">_odp_abi_timeout_t</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2timer__types_8h_source.html#l00024">abi-default/timer_types.h:24</a></div></div>
<div class="ttc" id="astructodp__timer__pool__param__t_html"><div class="ttname"><a href="structodp__timer__pool__param__t.html">odp_timer_pool_param_t</a></div><div class="ttdoc">Timer pool parameters.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00286">spec/timer_types.h:286</a></div></div>
<div class="ttc" id="astructodp__timer__pool__info__t_html_ac09e4f912ae8074a5c89bb854d0cdb47"><div class="ttname"><a href="structodp__timer__pool__info__t.html#ac09e4f912ae8074a5c89bb854d0cdb47">odp_timer_pool_info_t::param</a></div><div class="ttdeci">odp_timer_pool_param_t param</div><div class="ttdoc">Parameters specified at creation.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00582">spec/timer_types.h:582</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_ggabc44cd432f4af853655b9ad292abd8b2a9826e74a06aae31168ea7aad4c944b8d"><div class="ttname"><a href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2a9826e74a06aae31168ea7aad4c944b8d">ODP_TIMER_TOO_FAR</a></div><div class="ttdeci">@ ODP_TIMER_TOO_FAR</div><div class="ttdoc">Timer set operation failed because expiration time is too far from the current time.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00510">spec/timer_types.h:510</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_gacf39525bc4f8dd2d61ad4e963c931259"><div class="ttname"><a href="group__odp__timer.html#gacf39525bc4f8dd2d61ad4e963c931259">odp_timer_pool_info</a></div><div class="ttdeci">int odp_timer_pool_info(odp_timer_pool_t timer_pool, odp_timer_pool_info_t *info)</div><div class="ttdoc">Query timer pool configuration and current state.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga1d1006d0da428f8afd5527b673f777a9"><div class="ttname"><a href="group__odp__timer.html#ga1d1006d0da428f8afd5527b673f777a9">odp_timeout_alloc</a></div><div class="ttdeci">odp_timeout_t odp_timeout_alloc(odp_pool_t pool)</div><div class="ttdoc">Timeout alloc.</div></div>
<div class="ttc" id="astructodp__timer__pool__param__t_html_a8b9276c132f7b79cf51787167febbfea"><div class="ttname"><a href="structodp__timer__pool__param__t.html#a8b9276c132f7b79cf51787167febbfea">odp_timer_pool_param_t::priv</a></div><div class="ttdeci">int priv</div><div class="ttdoc">Thread private timer pool.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00380">spec/timer_types.h:380</a></div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_ga6e4289975efc279bb9f31880613a9d60"><div class="ttname"><a href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a></div><div class="ttdeci">#define ODP_SHM_INVALID</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gaa1b51ebd46adeb6aa7805fccb00144df"><div class="ttname"><a href="group__odp__scheduler.html#gaa1b51ebd46adeb6aa7805fccb00144df">odp_schedule_config</a></div><div class="ttdeci">int odp_schedule_config(const odp_schedule_config_t *config)</div><div class="ttdoc">Global schedule configuration.</div></div>
<div class="ttc" id="agroup__odp__thread_html_ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a"><div class="ttname"><a href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a">ODP_THREAD_CONTROL</a></div><div class="ttdeci">@ ODP_THREAD_CONTROL</div><div class="ttdoc">Control thread.</div><div class="ttdef"><b>Definition:</b> <a href="thread__types_8h_source.html#l00048">thread_types.h:48</a></div></div>
<div class="ttc" id="astruct__odp__abi__pool__t_html"><div class="ttname"><a href="struct__odp__abi__pool__t.html">_odp_abi_pool_t</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2pool__types_8h_source.html#l00016">abi-default/pool_types.h:16</a></div></div>
<div class="ttc" id="agroup__odp__cpumask_html_gaac673804169b678e278704de7306a79f"><div class="ttname"><a href="group__odp__cpumask.html#gaac673804169b678e278704de7306a79f">odp_cpumask_to_str</a></div><div class="ttdeci">int32_t odp_cpumask_to_str(const odp_cpumask_t *mask, char *str, int32_t size)</div><div class="ttdoc">Format a string from CPU mask.</div></div>
<div class="ttc" id="astructodp__init__t_html"><div class="ttname"><a href="structodp__init__t.html">odp_init_t</a></div><div class="ttdoc">Global initialization parameters.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2init_8h_source.html#l00147">spec/init.h:147</a></div></div>
<div class="ttc" id="astructodp__cpumask__t_html"><div class="ttname"><a href="structodp__cpumask__t.html">odp_cpumask_t</a></div><div class="ttdoc">CPU mask.</div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2cpumask_8h_source.html#l00037">abi-default/cpumask.h:37</a></div></div>
<div class="ttc" id="astruct__odp__abi__event__t_html"><div class="ttname"><a href="struct__odp__abi__event__t.html">_odp_abi_event_t</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2event__types_8h_source.html#l00019">abi-default/event_types.h:19</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_gad2a16811f3aa03c58953f7c7b6ff1b62"><div class="ttname"><a href="group__odp__timer.html#gad2a16811f3aa03c58953f7c7b6ff1b62">odp_timer_set_abs</a></div><div class="ttdeci">int odp_timer_set_abs(odp_timer_t timer, uint64_t abs_tick, odp_event_t *tmo_ev)</div><div class="ttdoc">Set (or reset) a timer with absolute expiration time.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga680573fd461db24d4e66540b37deea43"><div class="ttname"><a href="group__odp__timer.html#ga680573fd461db24d4e66540b37deea43">odp_timer_current_tick</a></div><div class="ttdeci">uint64_t odp_timer_current_tick(odp_timer_pool_t timer_pool)</div><div class="ttdoc">Current tick value.</div></div>
<div class="ttc" id="astructodp__pool__param__t_html"><div class="ttname"><a href="structodp__pool__param__t.html">odp_pool_param_t</a></div><div class="ttdoc">Pool parameters.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2pool__types_8h_source.html#l00338">spec/pool_types.h:338</a></div></div>
<div class="ttc" id="astructodp__timer__capability__t_html"><div class="ttname"><a href="structodp__timer__capability__t.html">odp_timer_capability_t</a></div><div class="ttdoc">Timer capability.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00118">spec/timer_types.h:118</a></div></div>
<div class="ttc" id="astructodp__timer__pool__param__t_html_a0c9d28e284d142c3fe6ee5f8cc66171e"><div class="ttname"><a href="structodp__timer__pool__param__t.html#a0c9d28e284d142c3fe6ee5f8cc66171e">odp_timer_pool_param_t::res_ns</a></div><div class="ttdeci">uint64_t res_ns</div><div class="ttdoc">Timeout resolution in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00311">spec/timer_types.h:311</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_gadb0936032a6640db772dd99cf4eb9159"><div class="ttname"><a href="group__odp__timer.html#gadb0936032a6640db772dd99cf4eb9159">ODP_CLOCK_DEFAULT</a></div><div class="ttdeci">#define ODP_CLOCK_DEFAULT</div><div class="ttdoc">The default clock source.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00246">spec/timer_types.h:246</a></div></div>
<div class="ttc" id="agroup__odp__thread_html_ggafc7a7c180de9811d71b7cb050713bf53a2182066d714db5f2a4e994ad92f25b2a"><div class="ttname"><a href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a2182066d714db5f2a4e994ad92f25b2a">ODP_THREAD_WORKER</a></div><div class="ttdeci">@ ODP_THREAD_WORKER</div><div class="ttdoc">Worker thread.</div><div class="ttdef"><b>Definition:</b> <a href="thread__types_8h_source.html#l00037">thread_types.h:37</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_gafb56c5aff06be798de32d878266febc0"><div class="ttname"><a href="group__odp__timer.html#gafb56c5aff06be798de32d878266febc0">odp_timer_pool_destroy</a></div><div class="ttdeci">void odp_timer_pool_destroy(odp_timer_pool_t timer_pool)</div><div class="ttdoc">Destroy a timer pool.</div></div>
<div class="ttc" id="agroup__odp__time_html_gacc306c00304a0d479e89c2cd16d39938"><div class="ttname"><a href="group__odp__time.html#gacc306c00304a0d479e89c2cd16d39938">ODP_TIME_USEC_IN_NS</a></div><div class="ttdeci">#define ODP_TIME_USEC_IN_NS</div><div class="ttdoc">A microsecond in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2time_8h_source.html#l00028">spec/time.h:28</a></div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga68d81088e65ef66180fb51076905e34d"><div class="ttname"><a href="group__odp__initialization.html#ga68d81088e65ef66180fb51076905e34d">odp_init_global</a></div><div class="ttdeci">int odp_init_global(odp_instance_t *instance, const odp_init_t *params, const odp_platform_init_t *platform_params)</div><div class="ttdoc">Global ODP initialization.</div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a3598b3a2496629cd45010c1c5e876250"><div class="ttname"><a href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">odp_pool_param_t::num</a></div><div class="ttdeci">uint32_t num</div><div class="ttdoc">Number of buffers in the pool.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2pool__types_8h_source.html#l00345">spec/pool_types.h:345</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_ga47e481181fbc79039f51f9c306257667"><div class="ttname"><a href="group__odp__timer.html#ga47e481181fbc79039f51f9c306257667">odp_timeout_from_event</a></div><div class="ttdeci">odp_timeout_t odp_timeout_from_event(odp_event_t ev)</div><div class="ttdoc">Get timeout handle from a ODP_EVENT_TIMEOUT type event.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga233f553eb0ba584d3be09431367fad27"><div class="ttname"><a href="group__odp__timer.html#ga233f553eb0ba584d3be09431367fad27">odp_timeout_tick</a></div><div class="ttdeci">uint64_t odp_timeout_tick(odp_timeout_t tmo)</div><div class="ttdoc">Timeout expiration tick.</div></div>
<div class="ttc" id="agroup__odp__compiler__optim_html_ga2b29f27f12b751250b471aa9c14c57c8"><div class="ttname"><a href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a></div><div class="ttdeci">#define odp_unlikely(x)</div><div class="ttdoc">Branch unlikely taken.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2hints_8h_source.html#l00066">spec/hints.h:66</a></div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga9116776b8262a74af7dac7ef46fc7ace"><div class="ttname"><a href="group__odp__scheduler.html#ga9116776b8262a74af7dac7ef46fc7ace">ODP_SCHED_NO_WAIT</a></div><div class="ttdeci">#define ODP_SCHED_NO_WAIT</div></div>
<div class="ttc" id="agroup__odp__timer_html_ggabc44cd432f4af853655b9ad292abd8b2afcabd0f01c3d19d8c9063ccd861edd6e"><div class="ttname"><a href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2afcabd0f01c3d19d8c9063ccd861edd6e">ODP_TIMER_FAIL</a></div><div class="ttdeci">@ ODP_TIMER_FAIL</div><div class="ttdoc">Timer set operation failed.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00513">spec/timer_types.h:513</a></div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga94034a7f591f3f549099aebb098f7e05"><div class="ttname"><a href="group__odp__scheduler.html#ga94034a7f591f3f549099aebb098f7e05">odp_schedule_default_prio</a></div><div class="ttdeci">int odp_schedule_default_prio(void)</div><div class="ttdoc">Default scheduling priority level.</div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_ad4ca09d63edb0cec36567c26688cea14"><div class="ttname"><a href="structodp__schedule__param__t.html#ad4ca09d63edb0cec36567c26688cea14">odp_schedule_param_t::sync</a></div><div class="ttdeci">odp_schedule_sync_t sync</div><div class="ttdoc">Synchronization method.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2schedule__types_8h_source.html#l00173">spec/schedule_types.h:173</a></div></div>
<div class="ttc" id="astructodp__queue__param__t_html"><div class="ttname"><a href="structodp__queue__param__t.html">odp_queue_param_t</a></div><div class="ttdoc">ODP Queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2queue__types_8h_source.html#l00226">spec/queue_types.h:226</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_gaf680f0ddeb5270d8a8947e2445b22dff"><div class="ttname"><a href="group__odp__timer.html#gaf680f0ddeb5270d8a8947e2445b22dff">odp_timer_pool_param_init</a></div><div class="ttdeci">void odp_timer_pool_param_init(odp_timer_pool_param_t *param)</div><div class="ttdoc">Initialize timer pool parameters.</div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_a3f103771c3a9319c1ec998fa8724b8ac"><div class="ttname"><a href="structodp__schedule__param__t.html#a3f103771c3a9319c1ec998fa8724b8ac">odp_schedule_param_t::prio</a></div><div class="ttdeci">odp_schedule_prio_t prio</div><div class="ttdoc">Priority level.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2schedule__types_8h_source.html#l00168">spec/schedule_types.h:168</a></div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga9868ccb25b6631ef29cc921ee2e522b0"><div class="ttname"><a href="group__odp__scheduler.html#ga9868ccb25b6631ef29cc921ee2e522b0">odp_schedule_pause</a></div><div class="ttdeci">void odp_schedule_pause(void)</div><div class="ttdoc">Pause scheduling.</div></div>
<div class="ttc" id="agroup__odp__queue_html_gab985be8c3947fef3da257e16948bf0f0"><div class="ttname"><a href="group__odp__queue.html#gab985be8c3947fef3da257e16948bf0f0">odp_queue_create</a></div><div class="ttdeci">odp_queue_t odp_queue_create(const char *name, const odp_queue_param_t *param)</div><div class="ttdoc">Queue create.</div></div>
<div class="ttc" id="astructodp__queue__param__t_html_a371701df4d20cee95978b9265c232e32"><div class="ttname"><a href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">odp_queue_param_t::sched</a></div><div class="ttdeci">odp_schedule_param_t sched</div><div class="ttdoc">Scheduler parameters.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2queue__types_8h_source.html#l00257">spec/queue_types.h:257</a></div></div>
<div class="ttc" id="agroup__odp__event_html_ga4bd59cdf228fe0c36b8e04fe122e047a"><div class="ttname"><a href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a></div><div class="ttdeci">odp_event_type_t odp_event_type(odp_event_t event)</div><div class="ttdoc">Event type of an event.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga7fb23a28aa1db3c919aa49c90b2316fb"><div class="ttname"><a href="group__odp__timer.html#ga7fb23a28aa1db3c919aa49c90b2316fb">odp_timer_ns_to_tick</a></div><div class="ttdeci">uint64_t odp_timer_ns_to_tick(odp_timer_pool_t timer_pool, uint64_t ns)</div><div class="ttdoc">Convert nanoseconds to timer ticks.</div></div>
<div class="ttc" id="agroup__odp__timer_html_gabc44cd432f4af853655b9ad292abd8b2"><div class="ttname"><a href="group__odp__timer.html#gabc44cd432f4af853655b9ad292abd8b2">odp_timer_set_t</a></div><div class="ttdeci">odp_timer_set_t</div><div class="ttdoc">Return values of timer set calls.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00500">spec/timer_types.h:500</a></div></div>
<div class="ttc" id="agroup__odp__time_html_ga49ab6f8fe6c0aa5b820717fd91f16ab5"><div class="ttname"><a href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a></div><div class="ttdeci">#define ODP_TIME_SEC_IN_NS</div><div class="ttdoc">A second in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2time_8h_source.html#l00034">spec/time.h:34</a></div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gae4ca1012ebb16ff8b9752b958dc45ce6"><div class="ttname"><a href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a></div><div class="ttdeci">odp_event_t odp_schedule(odp_queue_t *from, uint64_t wait)</div><div class="ttdoc">Schedule an event.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga3dd8bcfb920f81142e9fe27cfba24073"><div class="ttname"><a href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a></div><div class="ttdeci">void odp_pool_param_init(odp_pool_param_t *param)</div><div class="ttdoc">Initialize pool params.</div></div>
<div class="ttc" id="agroup__odp__cpumask_html_gad1ca7686341a94f62ca32b87c269cf17"><div class="ttname"><a href="group__odp__cpumask.html#gad1ca7686341a94f62ca32b87c269cf17">ODP_CPUMASK_STR_SIZE</a></div><div class="ttdeci">#define ODP_CPUMASK_STR_SIZE</div></div>
<div class="ttc" id="astructodp__queue__param__t_html_a6a7251138773a3110bdc0e8d5f5b3be9"><div class="ttname"><a href="structodp__queue__param__t.html#a6a7251138773a3110bdc0e8d5f5b3be9">odp_queue_param_t::type</a></div><div class="ttdeci">odp_queue_type_t type</div><div class="ttdoc">Queue type.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2queue__types_8h_source.html#l00231">spec/queue_types.h:231</a></div></div>
<div class="ttc" id="agroup__odp__event_html_ga1622f73356c325f625db747cb3badf8d"><div class="ttname"><a href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a></div><div class="ttdeci">void odp_event_free(odp_event_t event)</div><div class="ttdoc">Free event.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gab0a0d2673cc7371d5c5d782d13a485b8"><div class="ttname"><a href="group__odp__scheduler.html#gab0a0d2673cc7371d5c5d782d13a485b8">odp_schedule_wait_time</a></div><div class="ttdeci">uint64_t odp_schedule_wait_time(uint64_t ns)</div><div class="ttdoc">Schedule wait time.</div></div>
<div class="ttc" id="agroup__odp__timer_html_gaea51c621bb26b7a8bdab46d8a08f247a"><div class="ttname"><a href="group__odp__timer.html#gaea51c621bb26b7a8bdab46d8a08f247a">ODP_TIMER_INVALID</a></div><div class="ttdeci">#define ODP_TIMER_INVALID</div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_gacc441b0e100ec1c54e21f1745939a2d8"><div class="ttname"><a href="group__odp__shared__memory.html#gacc441b0e100ec1c54e21f1745939a2d8">odp_shm_reserve</a></div><div class="ttdeci">odp_shm_t odp_shm_reserve(const char *name, uint64_t size, uint64_t align, uint32_t flags)</div><div class="ttdoc">Reserve a contiguous block of shared memory.</div></div>
<div class="ttc" id="astructodp__timer__pool__info__t_html"><div class="ttname"><a href="structodp__timer__pool__info__t.html">odp_timer_pool_info_t</a></div><div class="ttdoc">ODP timer pool information and configuration.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00580">spec/timer_types.h:580</a></div></div>
<div class="ttc" id="agroup__odp__pool_html_gafca03b58412260da754042a92f8a5e04"><div class="ttname"><a href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a></div><div class="ttdeci">#define ODP_POOL_INVALID</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga80cbcff29933fbc847026c9c888aefe7"><div class="ttname"><a href="group__odp__pool.html#ga80cbcff29933fbc847026c9c888aefe7">odp_pool_lookup</a></div><div class="ttdeci">odp_pool_t odp_pool_lookup(const char *name)</div><div class="ttdoc">Find a pool by name.</div></div>
<div class="ttc" id="agroup__odp__timer_html_gad3e1c9b326fe7ec85b635d6f02998a86"><div class="ttname"><a href="group__odp__timer.html#gad3e1c9b326fe7ec85b635d6f02998a86">odp_timer_alloc</a></div><div class="ttdeci">odp_timer_t odp_timer_alloc(odp_timer_pool_t timer_pool, odp_queue_t queue, const void *user_ptr)</div><div class="ttdoc">Allocate a timer.</div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a96278a16f74267b997097905a1553059"><div class="ttname"><a href="structodp__pool__param__t.html#a96278a16f74267b997097905a1553059">odp_pool_param_t::tmo</a></div><div class="ttdeci">struct odp_pool_param_t::@122 tmo</div><div class="ttdoc">Parameters for timeout pools.</div></div>
<div class="ttc" id="agroup__odp__cpumask_html_ga4ff2d29f52775b12c7df1995754b524d"><div class="ttname"><a href="group__odp__cpumask.html#ga4ff2d29f52775b12c7df1995754b524d">odp_cpumask_default_worker</a></div><div class="ttdeci">int odp_cpumask_default_worker(odp_cpumask_t *mask, int num)</div><div class="ttdoc">Default cpumask for worker threads.</div></div>
<div class="ttc" id="agroup__odp__queue_html_gad1e1d2709808385025dd5f005f7690c4"><div class="ttname"><a href="group__odp__queue.html#gad1e1d2709808385025dd5f005f7690c4">odp_queue_destroy</a></div><div class="ttdeci">int odp_queue_destroy(odp_queue_t queue)</div><div class="ttdoc">Destroy ODP queue.</div></div>
<div class="ttc" id="astructodp__barrier__s_html"><div class="ttname"><a href="structodp__barrier__s.html">odp_barrier_s</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2barrier_8h_source.html#l00027">abi-default/barrier.h:27</a></div></div>
<div class="ttc" id="agroup__odp__barrier_html_ga1416b47755c2af6267074959ac0d4840"><div class="ttname"><a href="group__odp__barrier.html#ga1416b47755c2af6267074959ac0d4840">odp_barrier_init</a></div><div class="ttdeci">void odp_barrier_init(odp_barrier_t *barr, int count)</div><div class="ttdoc">Initialize barrier with thread count.</div></div>
<div class="ttc" id="agroup__odp__barrier_html_ga97c8f84490e816330f96155acf0b4b77"><div class="ttname"><a href="group__odp__barrier.html#ga97c8f84490e816330f96155acf0b4b77">odp_barrier_wait</a></div><div class="ttdeci">void odp_barrier_wait(odp_barrier_t *barr)</div><div class="ttdoc">Synchronize thread execution on barrier.</div></div>
<div class="ttc" id="agroup__odp__queue_html_ga771259a58e71e065e0d00d2fc431b014"><div class="ttname"><a href="group__odp__queue.html#ga771259a58e71e065e0d00d2fc431b014">ODP_QUEUE_INVALID</a></div><div class="ttdeci">#define ODP_QUEUE_INVALID</div></div>
<div class="ttc" id="astruct__odp__abi__queue__t_html"><div class="ttname"><a href="struct__odp__abi__queue__t.html">_odp_abi_queue_t</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2queue__types_8h_source.html#l00016">abi-default/queue_types.h:16</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_ggabc44cd432f4af853655b9ad292abd8b2a6cf6bb923bdf13cede58a481443be93c"><div class="ttname"><a href="group__odp__timer.html#ggabc44cd432f4af853655b9ad292abd8b2a6cf6bb923bdf13cede58a481443be93c">ODP_TIMER_SUCCESS</a></div><div class="ttdeci">@ ODP_TIMER_SUCCESS</div><div class="ttdoc">Timer set operation succeeded.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00502">spec/timer_types.h:502</a></div></div>
<div class="ttc" id="astructodp__timer__pool__param__t_html_abe013f91043de4d7fa0003bce6701a3f"><div class="ttname"><a href="structodp__timer__pool__param__t.html#abe013f91043de4d7fa0003bce6701a3f">odp_timer_pool_param_t::num_timers</a></div><div class="ttdeci">uint32_t num_timers</div><div class="ttdoc">Number of timers needed.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00375">spec/timer_types.h:375</a></div></div>
<div class="ttc" id="astructodp__timer__pool__info__t_html_ae12ce6d1db5ced5bb9bf20d836383028"><div class="ttname"><a href="structodp__timer__pool__info__t.html#ae12ce6d1db5ced5bb9bf20d836383028">odp_timer_pool_info_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of timer pool.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00591">spec/timer_types.h:591</a></div></div>
<div class="ttc" id="agroup__odp__cpu_html_ga29ed8c7764aa102f385e150dab1d27f3"><div class="ttname"><a href="group__odp__cpu.html#ga29ed8c7764aa102f385e150dab1d27f3">odp_cpu_id</a></div><div class="ttdeci">int odp_cpu_id(void)</div><div class="ttdoc">CPU identifier.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga256909a276600c25ce11b52ae274632f"><div class="ttname"><a href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a></div><div class="ttdeci">odp_pool_t odp_pool_create(const char *name, const odp_pool_param_t *param)</div><div class="ttdoc">Create a pool.</div></div>
<div class="ttc" id="agroup__odp__queue_html_ga22cd9716719cd2b35c88267eb1f16d49"><div class="ttname"><a href="group__odp__queue.html#ga22cd9716719cd2b35c88267eb1f16d49">odp_queue_lookup</a></div><div class="ttdeci">odp_queue_t odp_queue_lookup(const char *name)</div><div class="ttdoc">Find a queue by name.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga5119deda378994a468934aef41993965"><div class="ttname"><a href="group__odp__timer.html#ga5119deda378994a468934aef41993965">odp_timer_pool_create</a></div><div class="ttdeci">odp_timer_pool_t odp_timer_pool_create(const char *name, const odp_timer_pool_param_t *params)</div><div class="ttdoc">Create a timer pool.</div></div>
<div class="ttc" id="agroup__odp__timer_html_gac14be427018b98cbbd1aa3e76fd57e62"><div class="ttname"><a href="group__odp__timer.html#gac14be427018b98cbbd1aa3e76fd57e62">odp_timeout_fresh</a></div><div class="ttdeci">int odp_timeout_fresh(odp_timeout_t tmo)</div><div class="ttdoc">Check for fresh timeout.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga81c9f27f305d41ac2eb669e77a378071"><div class="ttname"><a href="group__odp__initialization.html#ga81c9f27f305d41ac2eb669e77a378071">odp_init_local</a></div><div class="ttdeci">int odp_init_local(odp_instance_t instance, odp_thread_type_t thr_type)</div><div class="ttdoc">Thread local ODP initialization.</div></div>
<div class="ttc" id="agroup__odp__timer_html_ga7064c7d4e9f014ffd322222178d208b3"><div class="ttname"><a href="group__odp__timer.html#ga7064c7d4e9f014ffd322222178d208b3">odp_timer_capability</a></div><div class="ttdeci">int odp_timer_capability(odp_timer_clk_src_t clk_src, odp_timer_capability_t *capa)</div><div class="ttdoc">Query timer capabilities per clock source.</div></div>
<div class="ttc" id="astructodp__init__t_html_a7d368c740146170ebeb1651ce049919e"><div class="ttname"><a href="structodp__init__t.html#a7d368c740146170ebeb1651ce049919e">odp_init_t::mem_model</a></div><div class="ttdeci">odp_mem_model_t mem_model</div><div class="ttdoc">Application memory model.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2init_8h_source.html#l00204">spec/init.h:204</a></div></div>
<div class="ttc" id="agroup__odp__pool_html_ga6ad439aaef911d82b972c915850e6924"><div class="ttname"><a href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a></div><div class="ttdeci">int odp_pool_destroy(odp_pool_t pool)</div><div class="ttdoc">Destroy a pool previously created by odp_pool_create()</div></div>
<div class="ttc" id="astructodp__timer__capability__t_html_af0616eb9ff6667d142bb0e6febef7135"><div class="ttname"><a href="structodp__timer__capability__t.html#af0616eb9ff6667d142bb0e6febef7135">odp_timer_capability_t::highest_res_ns</a></div><div class="ttdeci">uint64_t highest_res_ns</div><div class="ttdoc">Highest timer resolution in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00143">spec/timer_types.h:143</a></div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga2ba135fc660e1c050aa25ec6744ec584"><div class="ttname"><a href="group__odp__scheduler.html#ga2ba135fc660e1c050aa25ec6744ec584">ODP_SCHED_SYNC_PARALLEL</a></div><div class="ttdeci">#define ODP_SCHED_SYNC_PARALLEL</div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_a0bc7830a919f31ce295a20c51a7e2648"><div class="ttname"><a href="structodp__schedule__param__t.html#a0bc7830a919f31ce295a20c51a7e2648">odp_schedule_param_t::group</a></div><div class="ttdeci">odp_schedule_group_t group</div><div class="ttdoc">Thread group.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2schedule__types_8h_source.html#l00178">spec/schedule_types.h:178</a></div></div>
<div class="ttc" id="agroup__odp__system_html_gab0a1cd5e503d5ec067e8d17d228b937d"><div class="ttname"><a href="group__odp__system.html#gab0a1cd5e503d5ec067e8d17d228b937d">odp_sys_info_print</a></div><div class="ttdeci">void odp_sys_info_print(void)</div><div class="ttdoc">Print system info.</div></div>
<div class="ttc" id="astruct__odp__abi__shm__t_html"><div class="ttname"><a href="struct__odp__abi__shm__t.html">_odp_abi_shm_t</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2shared__memory_8h_source.html#l00015">abi-default/shared_memory.h:15</a></div></div>
<div class="ttc" id="astructodp__timer__pool__param__t_html_a8c358d197ea76dc7295025c23159e890"><div class="ttname"><a href="structodp__timer__pool__param__t.html#a8c358d197ea76dc7295025c23159e890">odp_timer_pool_param_t::min_tmo</a></div><div class="ttdeci">uint64_t min_tmo</div><div class="ttdoc">Minimum relative timeout in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2timer__types_8h_source.html#l00326">spec/timer_types.h:326</a></div></div>
<div class="ttc" id="agroup__odp__timer_html_ga0d06e6c0203ee0892f4e2d823682aa59"><div class="ttname"><a href="group__odp__timer.html#ga0d06e6c0203ee0892f4e2d823682aa59">odp_timer_tick_to_ns</a></div><div class="ttdeci">uint64_t odp_timer_tick_to_ns(odp_timer_pool_t timer_pool, uint64_t ticks)</div><div class="ttdoc">Convert timer ticks to nanoseconds.</div></div>
<div class="ttc" id="astruct__odp__abi__timer__t_html"><div class="ttname"><a href="struct__odp__abi__timer__t.html">_odp_abi_timer_t</a></div><div class="ttdef"><b>Definition:</b> <a href="abi-default_2timer__types_8h_source.html#l00021">abi-default/timer_types.h:21</a></div></div>
<div class="ttc" id="agroup__odp__atomic_html_ga0029015adacaadb06ee94ea67d00eece"><div class="ttname"><a href="group__odp__atomic.html#ga0029015adacaadb06ee94ea67d00eece">odp_atomic_init_u32</a></div><div class="ttdeci">void odp_atomic_init_u32(odp_atomic_u32_t *atom, uint32_t val)</div><div class="ttdoc">Initialize atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__thread_html_gad6562e7320d48463715bbf15748ae360"><div class="ttname"><a href="group__odp__thread.html#gad6562e7320d48463715bbf15748ae360">odp_thread_id</a></div><div class="ttdeci">int odp_thread_id(void)</div><div class="ttdoc">Get thread identifier.</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
